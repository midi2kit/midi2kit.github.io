{"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit\/BasicConcepts"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"inlineContent":[{"type":"text","text":"MIDI 2.0 introduces several new concepts beyond traditional MIDI 1.0. This guide explains the key concepts you need to understand when working with MIDI2Kit."}],"type":"paragraph"},{"type":"heading","text":"Universal MIDI Packet (UMP)","level":2,"anchor":"Universal-MIDI-Packet-UMP"},{"inlineContent":[{"text":"UMP is the new transport format for MIDI 2.0. Unlike MIDI 1.0â€™s byte streams, UMP uses fixed-size packets (32, 64, or 128 bits) that include group information.","type":"text"}],"type":"paragraph"},{"code":["\/\/ UMP message types","enum UMPMessageType: UInt8 {","    case utility           = 0x0  \/\/ 32-bit","    case system            = 0x1  \/\/ 32-bit  ","    case midi1ChannelVoice = 0x2  \/\/ 32-bit","    case data64            = 0x3  \/\/ 64-bit (SysEx7)","    case midi2ChannelVoice = 0x4  \/\/ 64-bit","    case data128           = 0x5  \/\/ 128-bit (SysEx8)","    case flexData          = 0xD  \/\/ 128-bit","    case umpStream         = 0xF  \/\/ 128-bit","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"MUID (MIDI Unique Identifier)","level":2,"anchor":"MUID-MIDI-Unique-Identifier"},{"inlineContent":[{"type":"text","text":"Every MIDI-CI device has a 28-bit MUID that uniquely identifies it during a session:"}],"type":"paragraph"},{"code":["let muid = MUID.random()        \/\/ Generate random MUID","let broadcast = MUID.broadcast  \/\/ 0x0FFFFFFF for broadcasts"],"type":"codeListing","syntax":"swift"},{"type":"aside","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"MUIDs are session-scoped. They change when a device restarts."}]}],"name":"Important"},{"type":"heading","text":"MIDI-CI (Capability Inquiry)","level":2,"anchor":"MIDI-CI-Capability-Inquiry"},{"inlineContent":[{"type":"text","text":"MIDI-CI allows devices to discover each other and negotiate capabilities:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Discovery"}],"type":"strong"},{"text":": Find devices on the MIDI bus","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Protocol Negotiation"}],"type":"strong"},{"text":": Agree on MIDI 1.0 or 2.0","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Profile Configuration"}]},{"type":"text","text":": Enable\/disable device profiles"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Property Exchange"}],"type":"strong"},{"text":": Read\/write device properties","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Property Exchange (PE)","level":2,"anchor":"Property-Exchange-PE"},{"inlineContent":[{"type":"text","text":"PE allows structured data exchange between devices using JSON:"}],"type":"paragraph"},{"code":["\/\/ Get device information","let deviceInfo = try await peManager.getDeviceInfo(from: device.muid)","print(\"Product: \\(deviceInfo.productName ?? \"Unknown\")\")","","\/\/ Get available resources","let resources = try await peManager.getResourceList(from: device.muid)"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"Device Identity","level":2,"anchor":"Device-Identity"},{"inlineContent":[{"text":"Devices identify themselves with manufacturer, family, model, and version:","type":"text"}],"type":"paragraph"},{"code":["let identity = DeviceIdentity(","    manufacturerID: .standard(0x41),  \/\/ Roland","    familyID: 0x0001,","    modelID: 0x0015,","    versionID: 0x01500000",")"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"Value Scaling","level":2,"anchor":"Value-Scaling"},{"inlineContent":[{"text":"MIDI 2.0 uses 32-bit values instead of 7-bit. MIDI2Kit provides conversion utilities:","type":"text"}],"type":"paragraph"},{"code":["\/\/ Convert MIDI 1.0 velocity to MIDI 2.0","let velocity7: UInt8 = 100","let velocity32 = UMPValueScaling.scale7To32(velocity7)","","\/\/ Normalized value (0.0-1.0) to 32-bit","let value32 = UMPValueScaling.normalizedTo32(0.75)"],"type":"codeListing","syntax":"swift"}]}],"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit\/GettingStarted"],"anchor":"Related-Documentation"},{"generated":true,"title":"Essentials","identifiers":["doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit\/GettingStarted"],"anchor":"Essentials"}],"sections":[],"kind":"article","metadata":{"title":"Basic Concepts","roleHeading":"Article","role":"article","modules":[{"name":"MIDI2Kit"}]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/midi2kit\/basicconcepts"]}],"hierarchy":{"paths":[["doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit"]]},"abstract":[{"type":"text","text":"Understand the fundamental concepts of MIDI 2.0 and how MIDI2Kit implements them."}],"references":{"doc://MIDI2Kit/documentation/MIDI2Kit/GettingStarted":{"title":"Getting Started with MIDI2Kit","url":"\/documentation\/midi2kit\/gettingstarted","abstract":[{"type":"text","text":"Learn how to set up MIDI2Kit and discover your first MIDI 2.0 device."}],"identifier":"doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit\/GettingStarted","kind":"article","type":"topic","role":"article"},"doc://MIDI2Kit/documentation/MIDI2Kit":{"url":"\/documentation\/midi2kit","kind":"symbol","role":"collection","identifier":"doc:\/\/MIDI2Kit\/documentation\/MIDI2Kit","abstract":[{"text":"A Swift library for implementing MIDI 2.0 (UMP, MIDI-CI, Property Exchange) in macOS and iOS applications.","type":"text"}],"type":"topic","title":"MIDI2Kit"}}}